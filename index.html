<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ğŸ”¥ Rumble Battle ğŸ”¥</title>
<style>
body { background:#111; color:#eee; font-family:sans-serif; text-align:center; }
h1 { margin-bottom:20px; }
ul { list-style:none; padding:0; max-height:300px; overflow-y:auto; }
li { margin:5px 0; padding:10px; background:#222; border-radius:5px; }
.winner { color:#ffd700; font-weight:bold; font-size:1.2em; }
#participants { margin-bottom:20px; max-height:150px; overflow-y:auto; }
</style>
</head>
<body>

<h1>ğŸ”¥ Rumble Battle ğŸ”¥</h1>

<h2>æ®‹ã‚Šå‚åŠ è€…</h2>
<ul id="participants"></ul>

<h2>å‹æ•—çµæœ</h2>
<ul id="results"></ul>

<script>
// ==========================
// 1. å‚åŠ è€…è¨­å®š
// ==========================
let participants = ['Alice', 'Bob', 'Charlie', 'Dave', 'Eve']; // å¥½ããªåå‰ã«å¤‰æ›´å¯

const ulParticipants = document.getElementById('participants');
const ulResults = document.getElementById('results');

function updateParticipants() {
  ulParticipants.innerHTML = '';
  participants.forEach(p => {
    const li = document.createElement('li');
    li.textContent = p;
    ulParticipants.appendChild(li);
  });
}

// åˆæœŸè¡¨ç¤º
updateParticipants();

// ==========================
// 2. æˆ¦é—˜å‡¦ç†
// ==========================
function fightRound() {
  if (participants.length <= 1) {
    // å„ªå‹è€…
    const champion = participants[0];
    const li = document.createElement('li');
    li.textContent = `${champion}ãŒå„ªå‹è€…ã§ã™ ğŸ†`;
    li.classList.add('winner');
    ulResults.appendChild(li);
    li.scrollIntoView({behavior:"smooth"});
    return false;
  }

  // ãƒ©ãƒ³ãƒ€ãƒ ã«2äººé¸ã¶
  const idx1 = Math.floor(Math.random() * participants.length);
  let idx2;
  do { idx2 = Math.floor(Math.random() * participants.length); } while(idx2===idx1);

  const p1 = participants[idx1];
  const p2 = participants[idx2];

  // å‹æ•—æ±ºå®š
  const winner = Math.random() >= 0.5 ? p1 : p2;
  const loser = winner === p1 ? p2 : p1;

  // æ•—è€…å‰Šé™¤
  participants = participants.filter(p => p !== loser);

  // çµæœè¡¨ç¤º
  const li = document.createElement('li');
  li.textContent = `${winner}ã¯${loser}ã«å‹ã¡ã¾ã—ãŸã€${loser}ã¯æˆ¦é—˜ä¸èƒ½ã§ã™`;
  ulResults.appendChild(li);
  li.scrollIntoView({behavior:"smooth"});

  updateParticipants();

  return true;
}

// ==========================
// 3. 3ç§’ã”ã¨ã«æˆ¦é—˜
// ==========================
const interval = setInterval(() => {
  const continueBattle = fightRound();
  if(!continueBattle) clearInterval(interval);
}, 3000);
</script>

</body>
</html>